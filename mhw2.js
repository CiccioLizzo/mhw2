 
 
const menuData = {
  "Store": {
    columns: [
      {
        heading: "Acquista",
        links: [
          { text: "Acquista i nuovi prodotti", url: "#" },
          { text: "Mac", url: "#" },
          { text: "iPad", url: "#" },
          { text: "iPhone", url: "#" },
          { text: "Apple Watch", url: "#" },
          { text: "Accessori", url: "#" }
        ]
      },
      {
        heading: "Link rapidi",
        links: [
          { text: "Trova uno store", url: "#" },
          { text: "Ricondizionati certificati", url: "#" },
          { text: "Apple Trade In", url: "#" },
          { text: "Finanziamenti", url: "#" },
          { text: "Business", url: "#" }
        ]
      },
      {
        heading: "Acquista sugli store dedicati",
        links: [
          { text: "Ricondizionati certificati", url: "#" },
          { text: "instruzione", url: "#" },
          { text: "Buisness", url: "#" }
        ]
      }
    ]
  },
  "Storenav": {
    columns: [
      {
        
        links: [
          { text: "Store", url: "#" },
          { text: "Mac", url: "#" },
          { text: "iPad", url: "#" },
          { text: "iPhone", url: "#" },
          { text: "Watch", url: "#" },
          { text: "AirPods", url: "#" },
          { text: "TV & Casa", url: "#" },
          { text: "Intrattenimento", url: "#" },
          { text: "Accessori", url: "#" },
          { text: "Supporto", url: "#" }
          
        ]
      },
      
    ]
  },
  "Mac": {
    columns: [
      {
        heading: "Mac",
        links: [
          {text: "Scopri la linea Mac",url: "#"},
          { text: "MacBook Air", url: "#" },
          { text: "MacBook Pro", url: "#" },
          { text: "iMac", url: "#" },
          { text: "Mac mini", url: "#" },
          { text: "Mac Studio", url: "#" },
          { text: "Mac Pro", url: "#" },
          { text: "Display", url: "#" }
        ]
      },
      {
        heading: "Acquista Mac",
        links: [
          { text: "Acquista Mac", url: "#" },
          { text: "Accessori Mac", url: "#" },
          { text: "Apple Trade In", url: "#" }
        ]
      },
      {
        heading: "Altro per mac",
        links: [
          { text: "Supporto Mac", url: "#" },
          { text: "AppleCare+ per Mac", url: "#" },
          { text: "MacOS Sequoia", url: "#" },
          { text: "Apple Intelligence", url: "#" },
          { text: "App made in Apple", url: "#" },
          { text: "Community", url: "#" },
          { text: "iCloud+", url: "#" },
          { text: "Mac al lavoro", url: "#" },
          { text: "Istruzione", url: "#" }
        ]
      }
    ]
  },
  "iPad": {
    columns: [
      {
        heading: "iPad",
        links: [
          { text: "Scopri la linea iPad", url: "#" },
          { text: "iPad Pro", url: "#" },
          { text: "iPad Air", url: "#" },
          { text: "iPad", url: "#" },
          { text: "iPad mini", url: "#" },
          { text: "Apple Pencil", url: "#" },
          { text: "Tastiere", url: "#" }
        ]
      },
      {
        heading: "Acquista iPad",
        links: [
          { text: "Acquista iPad", url: "#" },
          { text: "Accessori iPad", url: "#" },
          { text: "Apple Trade In", url: "#" }
        ]
      },
      {
        heading: "Altro per iPad",
        links: [
          { text: "Supporto iPad", url: "#" },
          { text: "AppleCare+ per iPad", url: "#" },
          { text: "iPadOS 18", url: "#" },
          { text: "Apple Intelligence", url: "#" },
          { text: "Per le famiglie", url: "#" },
          { text: "App made in Apple", url: "#" },
          { text: "iCloud+", url: "#" },
          { text: "Istruzione", url: "#" }
        ]
      }
    ]
  },
  "iPhone": {
    columns: [
      {
        heading: "iPhone",
        links: [
          { text: "Scopri la linea iPhone", url: "#" },
          { text: "iPhone 16 Pro", url: "#" },
          { text: "iPhone 16", url: "#" },
          { text: "iPhone 16e", url: "#" },
          { text: "iPhone 15", url: "#" }
        ]
      },
      {
        heading: "Acquista iPhone",
        links: [
          { text: "Acquista iPhone", url: "#" },
          { text: "Accessori iPhone", url: "#" },
          { text: "Apple Trade In", url: "#" },
          { text: "Finanziamenti", url: "#" }
        ]
      },
      {
        heading: "Altro per iPhone",
        links: [
          { text: "Supporto iPhone", url: "#" },
          { text: "AppleCare+ per iPhone", url: "#" },
          { text: "iOS 18", url: "#" },
          { text: "Apple Intelligence", url: "#" },
          { text: "Per le famiglie", url: "#" },
          { text: "App made in Apple", url: "#" },
          { text: "iPhone e la tua privacy", url: "#" },
          { text: "iCloud+", url: "#" },
          { text: "Apple Pay", url: "#" },
          { text: "Siri", url: "#" }
        ]
      }
    ]
  },
  "Watch": {
    columns: [
      {
        heading: "Apple Watch",
        links: [
          { text: "Scopri la linea Apple Watch", url: "#" },
          { text: "Apple Watch Series 10", url: "#" },
          { text: "Apple Watch Ultra 2", url: "#" },
          { text: "Apple Watch SE", url: "#" },
          { text: "Apple Watch Nike", url: "#" },
          { text: "Apple Watch Hermès", url: "#" }
          
          
        ]
      },
      {
        heading: "Acquista Apple Watch",
        links: [
          { text: "Acquista Apple Watch", url: "#" },
          { text: "Apple Watch Studio", url: "#" },
          { text: "Cinturini Apple Watch ", url: "#" },
          { text: "Accessori Apple Watch", url: "#" },
          { text: "Apple Trade In", url: "#" }
        ]
      },
      {
        heading: "Altro per Apple Watch",
        links: [
          { text: "Supporto Apple Watch", url: "#" },
          { text: "AppleCare+", url: "#" },
          { text: "watchOS 11", url: "#" },
          { text: "App made in Apple", url: "#" },
          { text: "Apple Fintness +", url: "#" }
          
        ]
      }
    ]
  },
  "AirPods": {
    columns: [
      {
        heading: "AirPods",
        links: [
          { text: "Scopri la linea AirPods", url: "#" },
          { text: "AirPods 4", url: "#" },
          { text: "AirPods Pro 2", url: "#" },
          { text: "AirPods Max", url: "#" }
        ]
      },
      {
        heading: "Acquista AirPods",
        links: [
          { text: "Acquista AirPods", url: "#" },
          { text: "Accessori AirPods", url: "#" }
          
        ]
      },
      {
        heading: "Altro per AirPods",
        links: [
          { text: "Supporto AirPods", url: "#" },
          { text: "AppleCare+ per le cuffie", url: "#" },
          { text: "Apple Music", url: "#" }
        ]
      }
    ]
  },
  "TV & Casa": {
    columns: [
      {
        heading: "TV & Casa",
        links: [
          { text: "Scopri la linea TV & Casa", url: "#" },
          { text: "Apple TV 4K", url: "#" },
          { text: "HomePod", url: "#" },
          { text: "HomePod mini", url: "#" }
        ]
      },
      {
        heading: "Acquista TV & Casa",
        links: [
          { text: "Acquista Apple TV 4K", url: "#" },
          { text: "Acquista HomePod", url: "#" },
          { text: "Acquista HomePod mini", url: "#" },
          { text: "Acquista Siri Remote", url: "#" },
          { text: "Accessori TV & Casa", url: "#" }
        ]
      },
      {
        heading: "Altro per TV & Casa",
        links: [
          { text: "Supporto TV & Casa", url: "#" },
          { text: "AppleCare+", url: "#" },
          { text: "App Apple TV", url: "#" },
          { text: "Apple TV +", url: "#" },
          { text: "App Casa", url: "#" },
          { text: "Apple Music", url: "#" },
          { text: "Siri", url: "#" },
          { text: "AirPlay", url: "#" }
          
        ]
      }
    ]
  },
  "Intrattenimento": {
    columns: [
      {
        heading: "Intrattenimento",
        links: [
          { text: "Scopri i servizi per l'intrattenimento", url: "#" },
          { text: "Apple One+", url: "#" },
          { text: "Apple TV+", url: "#" },
          { text: "Apple Music", url: "#" },
          { text: "Apple Arcade", url: "#" },
          { text: "Apple Fitness+", url: "#" },
          { text: "Apple Podcasts", url: "#" },
          { text: "Apple Books", url: "#" },
          { text: "App Store", url: "#" }
        ]
      },
      {
        heading: "Supporto",
        links: [
          { text: "Supporto Apple TV+", url: "#" },
          { text: "Supporto Applw Music", url: "#" }

        ]
      }
      
    ]
  },
  "Accessori": {
    columns: [
      {
        heading: "Accessori per",
        links: [
          { text: "Tutti gli accessori", url: "#" },
          { text: "Mac", url: "#" },
          { text: "iPad", url: "#" },
          { text: "iPhone", url: "#" },
          { text: "Apple Watch ", url: "#" },
          { text: "Air Pods", url: "#" },
          { text: "TV & Casa", url: "#" }
        ]
      },
      {
        heading: "Linee di Accessori",
        links: [
          { text: "Creati da Apple", url: "#" },
          { text: "Beats by Dr.Dre", url: "#" },
          { text: "AiTag", url: "#" }
        ]
      }
      
    ]
  },
  "Supporto": {
    columns: [
      {
        heading: "Supporto",
        links: [
          { text: "iPhone", url: "#" },
          { text: "Mac", url: "#" },
          { text: "iPad", url: "#" },
          { text: "Apple Watch", url: "#" },
          { text: "AirPods", url: "#" },
          { text: "Musica", url: "#" },
          { text: "TV", url: "#" }
        ]
      },
      {
        heading: "Ricevi assistenza",
        links: [
          { text: "Community", url: "#" },
          { text: "Verifica la copertura", url: "#" },
          { text: "Riparazioni", url: "#" }

        ]
      },
      {
        heading: "Argomenti utili",
        links: [
          { text: "Acquista AppleCare+", url: "#" },
          { text: "Apple account e password", url: "#" },
          { text: "Fatturazione e abbonamenti", url: "#" },
          { text: "Accessibilità", url: "#" }

        ]
      }
    ]
  }
  
};


function generateDropdownContent(itemName) {
  const columnsContainer = document.getElementById('dropdown-columns');
  columnsContainer.innerHTML = ''; 

  if (menuData[itemName]) {
    const data = menuData[itemName];
    data.columns.forEach(col => {
      
      const colDiv = document.createElement('div');
      colDiv.classList.add('dropdown-column');

      
      const heading = document.createElement('h3');
      heading.classList.add('dropdown-heading');
      heading.textContent = col.heading;
      colDiv.appendChild(heading);

     
      const ul = document.createElement('ul');
      ul.classList.add('dropdown-list');
      col.links.forEach(linkObj => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = linkObj.url;
        a.textContent = linkObj.text;
        li.appendChild(a);
        ul.appendChild(li);
      });
      colDiv.appendChild(ul);
      columnsContainer.appendChild(colDiv);
    });
  } 
}

function showDropdown(itemName) {
  const dropdown = document.getElementById('dropdown-menu');
  
  generateDropdownContent(itemName);
  dropdown.classList.add('active');
}

function hideDropdown() {
  document.getElementById('dropdown-menu').classList.remove('active');
}


const navItems = document.querySelectorAll('.nav-menu li');
navItems.forEach(item => {
  const itemName = item.textContent.trim();


  item.addEventListener('mouseover', () => {
    if (window.innerWidth > 768) {
      showDropdown(itemName);
    }
  });
  
  item.addEventListener('mouseout', () => {
    if (window.innerWidth > 768) {
      setTimeout(() => {
        if (!document.getElementById('dropdown-menu').matches(':hover')) {
          hideDropdown();
        }
      }, 200);
    }
  });
});


const dropdownMenu = document.getElementById('dropdown-menu');
dropdownMenu.addEventListener('mouseover', () => {
  dropdownMenu.classList.add('active');
});
dropdownMenu.addEventListener('mouseout', () => {
  if (window.innerWidth > 768) {
    hideDropdown();
  }
});


const navRight = document.querySelector('.hamburger-menu');
navRight.addEventListener('click', (e) => {
  if (window.innerWidth <= 768) {
    e.preventDefault();
    if (dropdownMenu.classList.contains('active')) {
      hideDropdown();
    } else {
      
      showDropdown('Storenav');
      hideMenu('search-menu'); 
      hideMenu('cart-menu'); 
    }
  }
});


window.addEventListener('resize', () => {
  hideDropdown();
});




function showMenu(menuId) {
  const menu = document.getElementById(menuId);
  menu.classList.add('active');
}


function hideMenu(menuId) {
  const menu = document.getElementById(menuId);
  menu.classList.remove('active');
}


const searchIcon = document.querySelector('.nav-right img[alt="Search"]');
searchIcon.addEventListener('click', (e) => {
  e.preventDefault();
  const searchMenu = document.getElementById('search-menu');
  const cartMenu = document.getElementById('cart-menu');
  if (searchMenu.classList.contains('active')) {
    hideMenu('search-menu');
  } else {
    showMenu('search-menu');
    hideMenu('cart-menu'); 
    
  }
});


const cartIcon = document.querySelector('.nav-right img[alt="Cart"]');
cartIcon.addEventListener('click', (e) => {
  e.preventDefault();
  const cartMenu = document.getElementById('cart-menu');
  const searchMenu = document.getElementById('search-menu');
  if (cartMenu.classList.contains('active')) {
    hideMenu('cart-menu');
  } else {
    showMenu('cart-menu');
    hideMenu('search-menu'); 
  }
});


document.addEventListener('click', (e) => {
  if (!e.target.closest('.nav-right') && !e.target.closest('.search-menu') && !e.target.closest('.cart-menu')) {
    hideMenu('search-menu');
    hideMenu('cart-menu');
  }
});





